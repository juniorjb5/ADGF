---
title: "Anal√≠tica en la Gesti√≥n Financiera"
subtitle: "<br/> Del dato al modelo"
author: "Orlando Joaqui-Barandica, PhD."
institute: "Universidad del Valle"
date: " "
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: 
      - default
      - rladies
      - rladies-fonts
      - fonts_mtheme.css
      - cols.css
    seal: false  
    nature:
      beforeInit: "cols_macro.js"
      ratio: 16:9
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false

---


```{r setup, include = FALSE}
library(knitr)                              # paquete que trae funciones utiles para R Markdown
library(tidyverse)                          # paquete que trae varios paquetes comunes en el tidyverse
library(datos)                              # paquete que viene con datos populares traducidos al espa√±ol :)
library(shiny)
# opciones predeterminadas
knitr::opts_chunk$set(echo = FALSE,         # FALSE: los bloques de c√≥digo NO se muestran
                      dpi = 300,            # asegura gr√°ficos de alta resoluci√≥n
                      warning = FALSE,      # los mensajes de advertencia NO se muestran
                      error = FALSE)        # los mensajes de error NO se muestran


options(htmltools.dir.version = FALSE)


xaringanExtra::use_share_again()
xaringanExtra::use_clipboard()
xaringanExtra::use_panelset()

```




class: inverse, left, bottom
background-image: url("img/fondo.jpg")
background-size: cover


# **`r rmarkdown::metadata$title`**
----

## **`r rmarkdown::metadata$subtitle`**

### `r rmarkdown::metadata$author`
### `r rmarkdown::metadata$date`


---



class: center, middle





```{r, echo=FALSE, fig.align="center", out.width="20%"}
knitr::include_graphics("img/univalle.jpg")
```



---






class: center, middle


.center[

<br>



<a href="https://www.joaquibarandica.com" target="_blank">
  <img src="img/avatar.png"
       style="border-radius: 80%; width: 220px; max-width: 30%; height: auto;"
       alt="Avatar"/>
</a>


## Orlando Joaqui-Barandica


Doctor en Ingenier√≠a, Enf. Ingenier√≠a Industrial **|** Mag√≠ster en Econom√≠a Aplicada **|** Estad√≠stico.



`r anicon::faa("envelope", animate = "passing")` orlando.joaqui@correounivalle.edu.co 
]



.center[
### [www.joaquibarandica.com](https://www.joaquibarandica.com)
]




---





background-image: url(img/img1.jpg)
background-size: cover



---



background-image: url(img/img2.jpg)
background-size: cover


---




# Machine Learning es como el *gym* en enero


<br>
<br>
<br>
<br>

Todos hablan de ello.  
Pocos saben qu√© hacer.  
Y los que lo hacen de verdad‚Ä¶ casi nunca est√°n presumi√©ndolo.



---

# Si has intentado leer ML en Internet‚Ä¶


.pull-left[

Probablemente te encontraste con dos extremos:

- **Trilog√≠as acad√©micas** llenas de teoremas (√∫tiles, pero duras de digerir).
- **Cuentos de hadas** sobre ‚ÄúIA m√°gica‚Äù y promesas de data science.

Hoy lo vamos a ver como se usa en la vida real:

**problema ‚Üí datos ‚Üí patrones ‚Üí decisi√≥n**


]


.pull-right[

```{r, echo=FALSE, fig.align="center", out.width="100%"}
knitr::include_graphics("img/img3.jpg")
```


]


.footnote[
Imagen tomada de .purple[*Vastrick*]
]


---


# Antes de hablar de ‚Äúmodelos‚Äù‚Ä¶

Machine Learning suele sonar a ‚Äúmagia‚Äù porque lo vemos al final del proceso: un modelo que predice algo.
Pero en la vida real, ML es m√°s simple (y m√°s √∫til) si lo entendemos as√≠:

- Hay un problema cotidiano (y un deseo de decidir mejor).

- Hay datos del pasado (ejemplos).

- Hay una m√°quina que busca patrones donde el humano ya no alcanza.



----

.center[
### La historia de Billy nos sirve para entender el nacimiento de ML sin tecnicismos.
]


---



# Este es Billy...


```{r, echo=FALSE, fig.align="center", out.width="40%"}
knitr::include_graphics("img/img4.jpg")
```




---



# Este es Billy...

Billy quiere comprar un carro y decide hacer lo que hacemos todos: **mirar anuncios** y `‚Äúhacerse una idea‚Äù.`


No est√° tratando de ser cient√≠fico: .orange[**solo quiere una estimaci√≥n razonable para planear su ahorro.**]

- Revisa muchos anuncios en internet.

- Empieza a ordenar mentalmente precios seg√∫n el a√±o del carro.

- Y anota ejemplos t√≠picos:

- Nuevo ‚âà $20,000

- 1 a√±o ‚âà $19,000

- 2 a√±os ‚âà $18,000

- ... y as√≠ sucesivamente.

En este punto Billy no sabe nada de ML‚Ä¶ pero ya est√° pensando como alguien que aprende de datos.



---



# Billy encuentra una ‚Äúregla‚Äù simple

.pull-left[

Despu√©s de ver suficientes anuncios, Billy cree que encontr√≥ un patr√≥n estable:

> El precio depende de la edad del carro.

Cada a√±o baja aproximadamente $1,000.

Y parece existir un ‚Äúpiso‚Äù donde ya no baja m√°s, cerca de $10,000.


----


.center[
.orange[**Esta intuici√≥n es muy humana: buscamos una regla corta para explicar el mundo.**]

.blue2[Si esa regla funcionara siempre, la vida ser√≠a f√°cil...]
]


]


.pull-right[

.panelset[

.panel[.panel-name[Idea r√°pida]
Un patr√≥n simple se siente poderoso porque nos permite decidir r√°pido:
‚ÄúSi el carro es 3 a√±os m√°s viejo, deber√≠a costar ~3 mil menos‚Äù.

]

.panel[.panel-name[Mapa mental]


```{r, echo=FALSE, out.width="90%", fig.align='center'}
# Gr√°fico "regla simple" de Billy:
# Precio cae ~$1,000 por a√±o y tiene un piso en $10,000

library(ggplot2)

# Datos ilustrativos: edades 0 a 15 a√±os
df <- data.frame(
  age = 0:15
)

# Regla: 20,000 - 1,000*edad, pero no baja de 10,000
df$price <- pmax(20000 - 1000 * df$age, 10000)

ggplot(df, aes(x = age, y = price)) +
  geom_line(linewidth = 1.2) +
  geom_point(size = 2.2) +
  geom_hline(yintercept = 10000, linetype = "dashed") +
  annotate("text", x = 12, y = 10300, label = "Piso ‚âà 10,000", hjust = 0) +
  labs(
    title = 'Billy encuentra una "regla" simple',
    subtitle = "Precio ‚âà 20,000 ‚àí 1,000 √ó edad (con piso en 10,000)",
    x = "Edad del carro (a√±os)",
    y = "Precio (USD)"
  ) +
  scale_x_continuous(breaks = 0:15) +
  scale_y_continuous(labels = scales::comma) +
  theme_minimal(base_size = 14)

```


]
]

]

---

# Traducci√≥n a Machine Learning: ‚Äúregresi√≥n‚Äù

En t√©rminos de ML, lo que Billy hizo tiene nombre:

**Regresi√≥n** = predecir un valor num√©rico (precio) usando datos hist√≥ricos.

Ojo: esto no es algo ‚Äúde laboratorio‚Äù.
La gente hace regresi√≥n intuitiva todo el tiempo, por ejemplo:

- Estimar un precio razonable para un iPhone usado.

- Decidir cu√°nto comprar para una parrillada (¬ø200g o 500g por persona?).

----

> Lo interesante es que Billy lo hizo ‚Äúa ojo‚Äù con pocos factores...
pero el mundo real casi nunca se deja reducir a una sola variable.


---

# El mundo real entra a escena


```{r, echo=FALSE, fig.align="center", out.width="60%"}
knitr::include_graphics("img/img5.png")
```


---


# El problema: no existe una f√≥rmula para todo

Ser√≠a incre√≠ble tener una f√≥rmula simple para cualquier problema del mundo.
Pero con carros (y con casi todo) aparece la complejidad:

- No todos los carros ‚Äúde 2 a√±os‚Äù son comparables: pueden tener distintos meses de fabricaci√≥n.

- Hay decenas de opciones y versiones (extras, motor, transmisi√≥n).

- La condici√≥n t√©cnica cambia todo (kilometraje, choques, mantenimiento).

- Hay picos de demanda por temporada.

- Y existen factores ocultos que ni siquiera sabemos medir bien.

----

> Entonces, la regla de Billy empieza a fallar:

> no porque sea ‚Äúmala‚Äù, sino porque es **demasiado simple para un sistema complejo.**


---

# Limitaci√≥n humana (y la raz√≥n pr√°ctica de ML)

.pull-left[

Un Billy promedio no puede sostener todas esas variables y relaciones en la cabeza al mismo tiempo.
Y aunque alguien lo intente con cuidado, el cerebro tiende a:

- simplificar demasiado,

- olvidar factores,

- sesgarse por ejemplos recientes,

- y ‚Äúcerrar‚Äù la decisi√≥n con poca evidencia.

En pocas palabras: cuando el problema tiene muchos factores,
necesitamos un m√©todo que pueda procesarlos sistem√°ticamente.

]

.pull-right[



```{r, echo=FALSE, fig.align="center", out.width="90%"}
knitr::include_graphics("img/img6.png")
```




]


---

# La idea de Machine Learning (en una receta)

En vez de inventarnos una f√≥rmula a mano, hagamos lo computacional:

1. Recolectamos datos (muchos anuncios con precio + caracter√≠sticas).

2. Le pedimos a la m√°quina que encuentre patrones ocultos relacionados con el precio.

3. Usamos esos patrones para predecir mejor.

<br>
<br>

----

<br>
<br>



> Esto no elimina la incertidumbre, pero s√≠ mejora dos cosas:

> - La consistencia (no depende del ‚Äú√°nimo‚Äù del analista),

> - y la capacidad de capturar relaciones complejas.




---

# Y... funciona


```{r, echo=FALSE, fig.align="center", out.width="50%"}
knitr::include_graphics("img/img7.png")
```



---


# Aqu√≠ ‚Äúnace‚Äù ML

Lo emocionante es que, con datos suficientes, la m√°quina puede predecir precios
mejor que una persona tratando de analizar todo mentalmente.

Ese es el origen pr√°ctico de ML:

- No es magia.

- No es solo ‚Äúalgoritmos‚Äù.

- Es un enfoque para aprender patrones desde datos cuando el mundo es complejo.


### Antes de hablar de modelos, necesitamos entender la base: **el dato.**




---


# La idea central

Machine Learning no es ‚Äúun algoritmo m√°gico‚Äù.

Es un sistema que funciona **solo si** se alinean tres piezas:

1. **Datos** (lo que observamos del mundo)  
2. **Features** (c√≥mo representamos ese mundo en variables)  
3. **Algoritmos** (c√≥mo aprende el patr√≥n)


<br><br>

----

<br><br>

.center[
.font140[.orange[**Si una de las tres falla, el resultado falla.**]]
]

---


# Una met√°fora r√°pida

.pull-left[

Piensa en ML como cocinar:

- **Datos** = ingredientes  
- **Features** = c√≥mo los cortas / mezclas / preparas  
- **Algoritmo** = la receta + t√©cnica de cocci√≥n

Si los ingredientes est√°n da√±ados,  
no hay receta que salve el plato üòÖ

<br>

----

<br>

.center[
.font130[.blue2[**Garbage in ‚Üí garbage out**]]
]

]


.pull-right[

```{r, echo=FALSE, fig.align="center", out.width="95%"}
knitr::include_graphics("img/img8.png")
```

]



---


# Componente 1: Datos (Data)

Los datos son ejemplos del pasado.
No son ‚Äúla verdad‚Äù, son una medici√≥n (con ruido, sesgos y errores).

.panelset[

.panel[.panel-name[Qu√© incluye ‚Äúdatos‚Äù]

- ¬øDe d√≥nde vienen? (fuente)

- ¬øC√≥mo se capturan? (manual / autom√°tico)

- ¬øQu√© tan completos est√°n? (faltantes)

- ¬øQu√© tan consistentes son? (fechas, unidades, llaves)

- ¬øEn qu√© contexto se midieron? (reglas del negocio)
]

.panel[.panel-name[Finanzas]

> .font130[**En finanzas, el dato ‚Äúmalo‚Äù no solo reduce precisi√≥n: genera decisiones equivocadas y puede costar plata.**]

]

]


---

# Datos: manual vs autom√°tico

.pull-left[

Cuando se capturan datos, hay dos mundos:

**Manual**

- m√°s lento

- puede tener errores humanos (digitaci√≥n)

- suele tener validaci√≥n por sentido com√∫n


**Autom√°tico**

- m√°s r√°pido y masivo

- pero tambi√©n mete errores silenciosos:

- sensores, scrapers, logs

- cambios de formato

- duplicados por integraci√≥n

- valores fuera de escala


]

.pull-right[

```{r, echo=FALSE, fig.align="center", out.width="95%"}
knitr::include_graphics("img/img9.png")
```

.center[
.orange[M√°s datos ‚â† mejores datos]
]

]



---


# Componente 2: Features (representaci√≥n)

Un dato crudo rara vez sirve directo.

**Features** son la forma en que convertimos el mundo en n√∫meros/variables:

- Edad del carro (ok)

- Kilometraje (mejor)

- Estado / extras (mejor)

- Estacionalidad (mes, semana)

- Ciudad / zona (mercado local)


----

> En la pr√°ctica, una gran parte del trabajo real en ML ocurre aqu√≠.


---



# Features: el mismo dato, distinto significado

.panelset[

.panel[.panel-name[Ejemplo simple]
Precio = 18,000
Eso solo no dice mucho‚Ä¶

Pero si lo acompa√±as de:

- edad = 2 a√±os

- km = 35,000

- transmisi√≥n = autom√°tica

- ciudad = Cali

- mes = diciembre

...ya puedes explicar ‚Äúpor qu√©‚Äù ese precio puede ser razonable.
]

.panel[.panel-name[Finanzas]

En finanzas es igual:

- retornos (feature) salen de precios (dato)

- ratios financieros salen de estados financieros

- riesgo (VaR/ES) sale de series limpias y consistentes

.orange[**Sin features bien definidas, el modelo aprende basura.**]
]

]

---

# Componente 3: Algoritmos

Aqu√≠ viven las ‚Äúfamilias‚Äù que todo el mundo menciona:

- Regresi√≥n / Clasificaci√≥n

- √Årboles / SVM / KNN

- Redes neuronales

- Ensambles, etc.

Pero ojo:

.orange[El algoritmo es la parte m√°s visible... pero no siempre la m√°s importante.]

.center[
.blue2[**Con buen dato + buenas features, incluso modelos simples funcionan muy bien.**]
]

---

# En proyectos reales

.pull-left[

En el mundo real, el orden de prioridad suele ser:

1. Datos correctos y trazables

2. Features coherentes con el negocio

3. Luego s√≠ eliges el algoritmo

----

.orange[**Si inviertes el orden (arrancas por ‚Äúmodelo‚Äù), terminas ‚Äúarreglando‚Äù el proyecto al final, cuando ya es tarde.**]

]

.pull-right[
```{r, echo=FALSE, fig.align="center", out.width="95%"}
knitr::include_graphics("img/img10.png")
```

]


---

# Intersecci√≥n


```{r, echo=FALSE, fig.align="center", out.width="95%"}
knitr::include_graphics("img/img11.png")
```



---



# Learning vs Intelligence

Machine Learning es **parte** de la Inteligencia Artificial, pero no es ‚Äútoda la IA‚Äù.

- **AI**: campo completo (como biolog√≠a o qu√≠mica)
- **ML**: una parte de AI que aprende patrones desde datos
- **Neural Networks**: un tipo de ML (popular, pero no el √∫nico)
- **Deep Learning**: enfoque moderno/arquitecturas para redes (hoy se usa casi como sin√≥nimo pr√°ctico)

----

.center[
.orange[**Regla de oro:** no compares categor√≠as que est√°n en ‚Äúniveles‚Äù distintos, porque suena a marketing y confunde.]
]

- Mal: **‚Äú¬øQu√© es mejor: AI o redes neuronales?‚Äù**

(AI es el campo grande; redes neuronales es una t√©cnica dentro de ML, que est√° dentro de AI)

- Mal: **‚Äú¬øUso Machine Learning o Deep Learning?‚Äù**

(Deep Learning es un subconjunto de ML, no una alternativa del mismo nivel)



---

# ‚ÄúLa m√°quina aprende‚Äù ‚â† ‚Äúla m√°quina es inteligente‚Äù

.pull-left[
La m√°quina puede **aprender patrones**... pero eso no significa que tenga ‚Äúinteligencia humana‚Äù.

**Machine can**
- Forecast / predecir
- Memorize / aprender de ejemplos
- Reproduce / automatizar una tarea
- Choose best item / optimizar un criterio

**Machine cannot**
- Create something new (sin contexto/humano)
- Get smart really fast (sin datos/entrenamiento)
- Go beyond their task (sin re-definir objetivo)
- ‚ÄúKill all humans‚Äù (dejemos a Hollywood üòÖ)

----

.center[
.blue2[En anal√≠tica: ‚Äúaprender‚Äù = ajustar a datos; ‚Äúinteligencia‚Äù = otra conversaci√≥n.]
]
]

.pull-right[
```{r, echo=FALSE, fig.align="center", out.width="95%"}
knitr::include_graphics("img/img12.png")

```
]





---

# El mapa del ML world



```{r, echo=FALSE, fig.align="center", out.width="40%"}
knitr::include_graphics("img/img13.png")

```


---


# El mapa del ML world


.pull-left[
Cuando alguien dice ‚Äúhago ML‚Äù, puede estar hablando de cosas muy distintas.  
Por eso sirve un mapa: **ubicar familias** y entender que no existe ‚Äúun solo ML‚Äù.

**Tres preguntas para orientarnos:**
- ¬øTengo una etiqueta/objetivo `Y`? .orange[(s√≠ ‚Üí supervisado / no ‚Üí no supervisado)]
- ¬øEstoy optimizando por trial‚Äìerror con recompensas? .orange[(‚Üí reinforcement learning)]
- ¬øNecesito combinar muchos modelos para mejorar? .orange[(‚Üí ensembles)]

----

.center[
.orange[**Idea clave:** el m√©todo depende del problema, los datos y la restricci√≥n del negocio.]
]
]



.pull-right[
```{r, echo=FALSE, fig.align="center", out.width="90%"}
knitr::include_graphics("img/img14.png")

```

]







---


## ‚ÄòBig data: The next frontier for innovation, competition, and productivity' 


.pull-left[
La tecnolog√≠a de big data o el an√°lisis de grandes conjuntos de datos, se est√° convirtiendo en un aspecto clave de:


1. La competitividad de las empresas
2. El aumento de la productividad y el crecimiento
3. La innovaci√≥n
4. La satisfacci√≥n del consumidor


Adem√°s, los **`datos`** son el combustible que alimenta la **inteligencia artificial** y el **machine learning**, claves tambi√©n para lograr un futuro m√°s eficiente y sostenible.

]


.pull-right[

![](https://media.giphy.com/media/xT9C25UNTwfZuk85WP/giphy.gif)

]

--

.center[
.orange[

Desde el comercio minorista hasta la industria pesada, pasando por el sector de la salud, los seguros o la banca, no hay industria que no pueda beneficiarse de la inteligencia de los datos.

]
]


---

class: center, middle


## Adem√°s de los beneficios estrictamente empresariales, como la reducci√≥n de costes, la automatizaci√≥n, la personalizaci√≥n de productos o la mejora en la toma de decisiones...

<br>

##... el .orange[**BIG DATA**] tiene el potencial de construir una econom√≠a m√°s transparente, eficiente, justa y sostenible.



---

# Transparencia

Desde el funcionamiento interno de las empresas hasta la gesti√≥n de nuestras sociedades, el an√°lisis de datos permite alcanzar altos niveles de transparencia. 


.center[
*‚ÄúEn un mundo ideal, la transparencia debe aplicarse a todas las etapas del trabajo con datos".*
]

.pull-left[

<img src="https://media.giphy.com/media/3o6MbglpHAmtq6rvZS/giphy.gif" width="90%"/>

]


.pull-right[

Las partes implicadas deben estar informadas sobre los fines de los datos capturados:

- ¬øc√≥mo se recopilan, almacenan, transfieren o procesan? 

- Tambi√©n se les debe informar sobre la forma en que se analizar√°n los datos si alg√∫n tercero participa en el procesamiento de datos. 

- Los usuarios deben recibir garant√≠as claras de que los datos no se vender√°n ni se transferir√°n a otras instituciones o entidades legales sin el consentimiento adecuado.

]



---


# Eficiencia en el uso de recursos

.left-column[

<br>
<br>


<img src="https://media.giphy.com/media/WtWLJ7AraeFaTvTMwu/giphy.gif" width="90%"/>



<img src="https://media.giphy.com/media/xD9vHfSZiBgTm/giphy.gif" width="90%"/>


]


.right-column[



<br>
<br>
<br>
<br>

A nivel industrial, el an√°lisis de .orange[**BIG DATA**] permite una producci√≥n mucho m√°s precisa y ajustada a la demanda real, lo que a su vez conlleva la reducci√≥n de excedentes. 

<br>
<br>

.center[
.orange[
### Esto tiene un impacto directo en el uso eficiente de recursos y, por lo tanto, en la huella medioambiental de las empresas.
]
]

]



---


# Sostenibilidad en el uso de los recursos

<br>
<br>



> El uso del big data y la inteligencia artificial contribuye tambi√©n a la sostenibilidad de la industria y la econom√≠a.



<br>

> Por un lado, permite medir (y hacer predicciones) de forma precisa sobre el impacto de las actividades humanas en el medio ambiente.



<br>

> Por otro, la gesti√≥n inteligente basada en datos de la red energ√©tica posibilita una mejor integraci√≥n de las energ√≠as renovables.


---

background-image: url("https://media.giphy.com/media/ixvKqzJFAg2DC/giphy.gif")
background-size: cover

class: center, middle, inverse


## Su aplicaci√≥n en el sector utilities hace posible una gesti√≥n eficiente de servicios como el agua, las comunicaciones o la gesti√≥n de residuos. 

## Todo esto implica, adem√°s, nuevos pasos hacia modelos productivos sostenibles y la construcci√≥n de una econom√≠a circular.



---


# Mejora de la responsabilidad social corporativa


<br>

> A nivel de responsabilidad empresarial o RSC, la tecnolog√≠a de .orange[BIG DATA] permite gestionar la informaci√≥n de forma diferente. 



.pull-left[

----
### Las autoridades pueden monitorear aspectos relevantes como emisiones o respeto a los derechos humanos, las marcas pueden poner en valor sus esfuerzos de sostenibilidad y los analistas pueden perfeccionar sus predicciones.
----

]


.pull-right[

<br>

<img src="https://media.giphy.com/media/U6Qzze3Mt90Ig/giphy.gif" width="90%"/>

]



---


class: center, middle

# ¬øQu√© es BIG DATA?... ü§î


---



# ¬øQu√© es BIG DATA?

<br>

### El .orange[BIG DATA] es el an√°lisis masivo de datos. 


<br>


.right[
.font140[
Una cuant√≠a de datos, tan sumamente grande, que las aplicaciones de software de procesamiento de datos que tradicionalmente se ven√≠an usando no son capaces de capturar, tratar y poner en valor en un tiempo razonable.
]
]

<br>

`r anicon::faa("angle-double-right", animate = "passing", size = 2)` Igualmente, el mismo t√©rmino se refiere a las .orange[nuevas tecnolog√≠as] que hacen posible el **almacenamiento y procesamiento**, adem√°s de al uso que se hace de la informaci√≥n obtenida a trav√©s de dichas tecnolog√≠as.

---


background-image: url(img/back5.jpg)
background-size: cover



# .orange[¬øDe d√≥nde vienen los datos?]


.pull-left[


<br>
<br>
<br>
<br>

## Producidos por personas


]


.pull-right[

.center[
.font140[Mandar un email, escribir un comentario en Facebook, contestar a una encuesta telef√≥nica, meter informaci√≥n en una hoja de c√°lculo, responder a un WhatsApp, coger los datos de contacto de un cliente, hacer clic en un enlace de Internet...
]

### Infinidad de acciones que realizamos en el d√≠a a d√≠a suponen una fuente de datos inmensa.

]

]


---



background-image: url(img/back5.jpg)
background-size: cover



# .orange[¬øDe d√≥nde vienen los datos?]


.pull-left[


<br>
<br>
<br>
<br>

## Entre m√°quinas


]


.pull-right[

.center[
.font140[Los term√≥metros, parqu√≠metros y sistemas de riego autom√°tico de las ciudades, los GPS de veh√≠culos y tel√©fonos m√≥viles, las m√°quinas expendedoras de bebidas y alimentos en un hospital, o los contadores de electricidad de las viviendas, etc.. 
]

### Se comunican a trav√©s de dispositivos con otros aparatos, a los que transmiten los datos que van recogiendo...

]

]

---


background-image: url(img/back5.jpg)
background-size: cover



# .orange[¬øDe d√≥nde vienen los datos?]


.pull-left[


<br>
<br>
<br>
<br>

## Biom√©tricas


]


.pull-right[

.center[
.font140[Los datos que tienen como origen artefactos como sensores de huellas dactilares, esc√°neres de retina, lectores de ADN, sensores de reconocimiento facial o reconocimiento de voz... 
]

### Su uso es muy extendido en materia de seguridad en todas sus variantes...

]

]

---



background-image: url(img/back5.jpg)
background-size: cover



# .orange[¬øDe d√≥nde vienen los datos?]


.pull-left[


<br>
<br>
<br>
<br>

## Marketing Web


]


.pull-right[

.center[
.font140[Nuestros movimientos en la Red est√°n sujetos a todo tipo de mediciones que tienen como objeto estudios de marketing y an√°lisis de comportamiento.... 
]

### Con esos datos se llega a conclusiones tales como qu√© partes de una p√°gina atraen m√°s al usuario, d√≥nde hace clic o en qu√© zona de esta pasa m√°s tiempo...

]

]

---


background-image: url(img/back5.jpg)
background-size: cover



# .orange[¬øDe d√≥nde vienen los datos?]


.pull-left[


<br>
<br>
<br>
<br>

## Transacciones de datos


]


.pull-right[

<br>
<br>

.center[
.font140[El traspaso de dinero de una cuenta bancaria a otra, la reserva de un billete de avi√≥n o a√±adir un art√≠culo a un carrito de compra virtual de un portal de comercio electr√≥nico, ser√≠an algunos ejemplos... 
]

]

]

---


class: middle, center



# .purple[Para que te hagas una idea...]

<br>

## .orange[...y centr√°ndonos √∫nicamente en una peque√±√≠sima porci√≥n de los datos producidos por las personas, en el a√±o 2017, durante un solo minuto, de promedio y a nivel global]

<br>

.gray[Se enviaron 156 millones de correos electr√≥nicos, se realizaron 3 millones y medio de b√∫squedas en Google, se mandaron 16 millones de SMS, se postearon 46.200 nuevos contenidos en Instagram, se generaron 452.000 tuits y se publicaron 1,8 millones de snaps en Snapchat.]


---


background-image: url(img/back6.jpg)
background-size: cover


# Tipos de datos seg√∫n su estructura


## Datos estructurados


.pull-left[

]

.pull-right[

.center[
### - Son los que tradicionalmente se han usado en el tratamiento de datos.

### - Se pueden almacenar en tablas y tienen una clara defici√≥n de longitud y formato.

### - Entre ellos, se encuentran los n√∫meros, cadenas de caracteres y las fechas.
]


]


---


background-image: url(img/back7.jpg)
background-size: cover


# Tipos de datos seg√∫n su estructura


## Datos no estructurados


.pull-left[

]

.pull-right[

.center[
### - Son datos en su forma original, tal y como fueron recogidos.

### - No poseen un formato espec√≠fico que permita almacenarlos de forma tradicional.

### - Entre ellos, se encuentran los emails, documentos de texto, audio, etc.
]


]

---


background-image: url(img/back8.jpg)
background-size: cover


# Tipos de datos seg√∫n su estructura


## Datos semi estructurados


.pull-left[

]

.pull-right[

.center[
### - Siguen una especie de estructura, pero esta no es lo suficientemente regular.

### - Posee ciertos patrones comunes que los describen.

### - Entre ellos, se encuentran el lenguaje HTML, lenguaje XML, formato JSON, etc.
]


]

---


.pull-left-narrow[

<br>
<br>
<br>
<br>
<br>
<br>


.center[
# 7 V 
# del BIG DATA
]

]

.pull-right-wide[

<br>

.font110[.left[ 

> - .purple[.font140[V]]ELOCIDAD

<hr>

> - .purple[.font140[V]]OLUMEN

<hr>

> - .purple[.font140[V]]ARIEDAD

<hr>

> - .purple[.font140[V]]ERACIDAD

<hr>

> - .purple[.font140[V]]ALOR

<hr>

> - .purple[.font140[V]]ISUALIZACI√ìN

<hr>

> - .purple[.font140[V]]ARIABILIDAD

]
]
]



---


# Velocidad


.pull-left[

<br>

Nuestro concepto de inmediatez ha cambiado en los √∫ltimos tiempos y se busca informaci√≥n que llegue pr√°cticamente al instante.

<br>

----

`As√≠, la velocidad de an√°lisis requerida por la sociedad actual es una de las caracter√≠sticas fundamentales que tienen los datos a gran escala, donde los datos en constante movimiento procesados a tiempo real cobran protagonismo, ejecutando algoritmos cada vez m√°s complejos en menos tiempo.`

----


]


.pull-right[

<img src="https://media.giphy.com/media/xUOxeZUc8UFwMgH2MM/giphy.gif" width="90%"/>

]



---

# Volumen


.pull-left[

<br>

La cantidad de datos generados est√° aumentando.

<br>

----

`Seg√∫n crecen las bases de datos, tambi√©n lo han de hacer las aplicaciones y arquitectura construida para soportar la recogida y almacenamiento de datos cada vez m√°s variados.`

`Adem√°s, se han reducido los costes de almacenamiento propiciando almacenar grandes cuant√≠as de informaci√≥n a un precio mucho m√°s reducido que antiguamente.`

----


]


.pull-right[

<img src="https://media.giphy.com/media/ftAyb0CG1FNAIZt4SO/giphy.gif" width="90%"/>

]



---


# Variedad


.pull-left[

<br>

Los datos sobre los que trabajan las t√©cnicas de macrodatos son diversos pues, como hemos visto, proceden de numerosas fuentes y se encuentran en distintos formatos.

<br>

----

`Adem√°s, contin√∫a en aumento la cuant√≠a de datos no estructurados en proporci√≥n a los tradicionales.`

`Igual que pasaba con el volumen, esta entrada en escena con fuerza de los datos no estructurados requiere nuevos tratamientos de la informaci√≥n, necesitando de nuevas metodolog√≠as y tecnolog√≠as para poder ser analizadas.`

----


]


.pull-right[

<img src="https://media.giphy.com/media/3NeSk2IVEd2FYUQEcM/giphy.gif" width="90%"/>

]



---


# Veracidad


.pull-left[

<br>

Saber la fiabilidad de la informaci√≥n recogida es importante para obtener unos datos de calidad.

<br>

----

`Incluso, dependiendo de las aplicaciones que se le vaya a dar a la informaci√≥n, la veracidad se convierte en fundamental. Es un factor que puede influir mucho en conseguir una ventaja competitiva en la explotaci√≥n del Big Data.`

----


]


.pull-right[

<img src="https://media.giphy.com/media/dXFKDUolyLLi8gq6Cl/giphy.gif" width="90%"/>

]

---


# Valor


.pull-left[

<br>

Una gran cuant√≠a de datos frecuentemente extrae peque√±as informaciones de valor.

<br>

----

`C√≥mo conseguir dicha informaci√≥n de manera eficiente es uno de los retos que afronta d√≠a a d√≠a el √°rea de la inteligencia de datos. El valor es sin duda una cualidad fundamental en el an√°lisis.`

----


]


.pull-right[

<img src="https://media.giphy.com/media/zyYqgdql12FRC/giphy.gif" width="90%"/>

]


---

# Visualizaci√≥n


.pull-left[

<br>

Una imagen vale m√°s que mil palabras.

<br>

----

`Convertir cientos de hojas de informaci√≥n en un √∫nico gr√°fico que muestre claramente unas conclusiones predictivas es un ejemplo de c√≥mo mostrar los resultados de forma clara y sencilla en un evidente ejercicio de sintetizaci√≥n.`

----


]


.pull-right[

<img src="https://media.giphy.com/media/d31vTpVi1LAcDvdm/giphy.gif" width="90%"/>

]


---


# Variabilidad


.pull-left[

<br>

en un entorno tan cambiante como el de los macrodatos, la informaci√≥n var√≠a mucho.

<br>

----

`Y tambi√©n han de hacerlo los modelos o tratamientos que se aplican en torno a esta, pues no son fijos en el tiempo y requieren de un control peri√≥dico.`

----


]


.pull-right[

<br>
<br>

<img src="https://media.giphy.com/media/Rubq2zDiRjHSxv7CHX/giphy.gif" width="90%"/>

]






---

class: center, middle



# El ciclo de gesti√≥n de informaci√≥n en 4 fases

# üë®‚Äçüíª
--

<br>

### .orange[Conoces ya de d√≥nde vienen los datos, los tipos de ellos que existen y sus caracter√≠sticas principales. Lo siguiente es c√≥mo gestionarlos]



---


# 1Ô∏è‚É£ Captura de informaci√≥n


<br>
<br>
<br>
<br>

.center[
## ¬øD√≥nde est√° la informaci√≥n que necesitamos y c√≥mo podemos capturarla?

## üîç
]




---



# 1Ô∏è‚É£ Captura de informaci√≥n


<br>

.center[
.font140[C√≥mo hemos comentado... .brand-red[**HAY INFORMACI√ìN POR TODAS PARTES.**]]
]

<br>

### Para capturarla, existen varios m√©todos como:

> - .orange[*Web Scraping:*] Una t√©cnica que mediante programas de software extrae informaci√≥n de sitios web.

> - .orange[*API's:*] La gesti√≥n de informaci√≥n a trav√©s de diversar API creadas, permite la comunicaci√≥n entre diversos componentes de software.

> - .orange[*Apache Flume:*] Espec√≠ficamente dise√±ado para recopilar y agregar grandes vol√∫menes de datos.

> - .orange[*...*]



---


# 2Ô∏è‚É£ Almacenamiento


<br>
<br>
<br>
<br>

.center[
## Capturados los datos necesitar√°s guardarlos!!!

## üíæ
]




---


# 2Ô∏è‚É£ Almacenamiento


<br>

.center[
.font140[Depende de su uso futuro... .brand-red[**Y EL TIPO DE INFORMACI√ìN QUE SE TRATE.**]]
]

<br>

### Se pueden guardar en:

> - .orange[*Hojas de c√°lculo:*] Para el manejo de informaci√≥n estructurada tradicional.

> - .orange[*NoSQL:*] Permite almacenamiento de informaci√≥n no estructurada de forma mucho m√°s flexible y r√°pida.

> - .orange[*Hadoop:*] Entornos de trabajo como Hadoop, ayudar√°n a ejecutar aplicaciones necesarias para trabajar con macrodatos.

> - .orange[*...*]


---


# 3Ô∏è‚É£ Tratamiento


<br>
<br>
<br>
<br>

.center[
## Capturados y almacenados los datos, ¬øahora c√≥mo los tratamos?

## üî®
]




---


# 3Ô∏è‚É£ Tratamiento


<br>


### Se puede extraer conocimiento y buscar patrones repetitivos de esos datos a trav√©s de **la estad√≠stica** y **el machine learning** (desarrollo de tpecnicas que tienen como objetivo que las m√°quinas generalicen su comportamiento con base a datos de entrenamiento):

> - .orange[*Apache Spark:*] Es un motor unificado de anal√≠ticas para procesar datos a gran escala que integra m√≥dulos para SQL, streaming, aprendizaje autom√°tico y procesamiento de grafos.

> - .orange[*Python:*] Construir aplicaciones web, analizar datos, automatizar operaciones y crear aplicaciones empresariales.

> - .orange[*R:*] es un entorno de software libre y lenguaje de programaci√≥n interpretado, es decir, ejecuta las instrucciones directamente, sin una previa compilaci√≥n del programa a instrucciones en lenguaje m√°quina.

> - .orange[*...*]




---

# 4Ô∏è‚É£ Puesta en valor


<br>
<br>
<br>
<br>

.center[
## Capturados los datos necesitar√°s guardarlos!!!

## üí∞
]




---



# 4Ô∏è‚É£ Puesta en valor


<br>

.center[
.font140[Los datos en s√≠ mismos... .brand-red[**NO GARANTIZAN CONOCIMIENTO.**]]
]

<br>

### Sin un an√°lisis y un tratamiento adecuado, los datos no sirven para nada. As√≠ el valor estar√°, no en los propios datos, sino en la relaci√≥n de estos entre s√≠.

> - .orange[*Patrones o tendencias*]

> - .orange[*Estimaciones, Correlaciones, Predicciones, ...*]

> - .orange[*Tablas y visualizaciones*]

> - .orange[*...*]




---

class: inverse, center, middle
background-color: #122140


# Casos pr√°cticos de aplicaci√≥n

# y √©xito empresarial


---


# Amazon

.pull-left-narrow[

<br>
<br>

<img src="https://media.giphy.com/media/zWyv9xtsEfXQQ/giphy.gif" width="90%"/>


]


.pull-right-wide[

La compa√±√≠a de referencia a nivel mundial, en lo que a comercio electr√≥nico se refiere, basa buena parte de su √©xito en conocer de antemano lo que necesitan sus clientes. As√≠, es muy probable que si entras en la p√°gina de esta empresa, te sugiera art√≠culos que van a ser de gran inter√©s para ti. 

<br>

¬øC√≥mo? A trav√©s de la inteligencia de datos analizan muchos factores de car√°cter individual del usuario como sus h√°bitos de compra o intereses y otros m√°s generales como tendencias del momento o pautas de conducta de otros usuarios que adquirieron productos similares.

<br>

Juntan todo en la coctelera del Big Data y ofrecen una serie de productos sugeridos o relacionados con compras que el cliente ya ha hecho o se ha planteado hacer.

]


---


# Netflix

.pull-left-narrow[

<br>
<br>

<img src="https://media.giphy.com/media/JnvHE3lTHPr3WrSsrl/giphy.gif" width="90%"/>


]


.pull-right-wide[

Uno de los grandes factores del √©xito de la popular empresa estadounidense Netflix, es su magistral uso de los macrodatos para crear nuevos contenidos para sus usuarios, cuyos h√°bitos de consumo y preferencias son observados al detalle para descubrir qu√© es lo que van a querer ver a continuaci√≥n con base a patrones predictivos. 

<br>

As√≠ crearon, por ejemplo, la serie House of Cards: observaron que a muchos de sus usuarios les gustaban contenidos que incluyeran poder, pol√≠tica, drama y sensualidad entre sus caracter√≠sticas principales. Y tambi√©n que les gustaba como actor Kevin Spacey. 

<br>

As√≠, dieron con la f√≥rmula y mezclaron en la trama todos estos ingredientes poniendo a protagonizar a Spacey la misma. Igual proceso para Stranger Things y otros grandes √©xitos de audiencia.


]


---



# T-Mobile

.pull-left-narrow[

<br>
<br>

<img src="https://media.giphy.com/media/mGKIeZ9y4A2ZvMFFCQ/giphy.gif" width="90%"/>


]


.pull-right-wide[

Esta empresa de telecomunicaciones alemana es un ejemplo de uso de los datos masivos como mejor arma de retenci√≥n de clientes. 

<br>

Analizando a fondo las conversaciones, reclamaciones y descontentos que sus clientes dejaban en redes sociales, crearon soluciones espec√≠ficas para cada uno de ellos y consiguieron reducir la fuga de clientes a otras empresas en un 50%, con lo que el retorno de la inversi√≥n realizada en Big Data fue compensado con creces.


]


---


# Spotify

.pull-left-narrow[

<br>
<br>

<img src="https://media.giphy.com/media/l4FGB9Cs55wbvM75u/giphy.gif" width="90%"/>


]


.pull-right-wide[

Bajar hasta los datos individualizados m√°s llamativos para lanzar con ellos una campa√±a global masiva. Eso hizo en Reino Unido la compa√±√≠a sueca Spotify, que ofrece reproducci√≥n de m√∫sica v√≠a streaming. Su plan consisti√≥ en buscar la complicidad del gran p√∫blico. Y lo consiguieron mostrando curiosidades o rarezas del comportamiento de algunos de sus usuarios que hab√≠an detectado a trav√©s de los macrodatos. As√≠, en grandes carteles publicitarios, colocaron anuncios como estos:

- `Querida persona que reprodujo ‚ÄúSorry‚Äù 42 veces en el D√≠a de San Valent√≠n, ¬øqu√© hiciste?`

- `Queridas 3.749 personas que reprodujeron ‚ÄúIt‚Äôs the end of the world as we know it‚Äù el d√≠a del Brexit, estamos con vosotros`

- `Querida persona en el Theater District que escuch√≥ la banda sonora de Hamilton 5.376 veces este a√±o, ¬øpuedes conseguirnos tickets?`


]


---


# Nike

.pull-left-narrow[

<br>
<br>

<img src="https://media.giphy.com/media/3o6Zt4F6t6Sm1cmcus/giphy.gif" width="90%"/>


]


.pull-right-wide[

Los dispositivos electr√≥nicos de su l√≠nea NikePlus (relojes inteligentes, puls√≥metros, dispositivos con sensores que conectan sus zapatillas con un tel√©fono...) recogen cantidades masivas de informaci√≥n de millones de usuarios. 

<br>

Informaci√≥n que sirve a la empresa de ropa deportiva estadounidense para buscar la fidelizaci√≥n de los usuarios a trav√©s de retos y objetivos que apelan a la capacidad de superaci√≥n de estos, creando un v√≠nculo con la marca m√°s all√° de la simple venta de material deportivo. 


]


---



background-image: url(img/back9.jpg)
background-size: cover
class: inverse, center, bottom



## Est√° en todas partes...

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

## y todav√≠a no hay tantos expertos como demanda de √©stos, que sigue en aumento imparable. Por tanto, ha llegado el momento de los datos a gran escala.


---




class: inverse, center, middle
background-color: #122140

# Anal√≠tica de Datos para la Gesti√≥n Financiera
## ‚ÄúDel hype (ML/Big Data) al trabajo real: el dato‚Äù

---

# ¬øQu√© es ‚Äúanal√≠tica de datos‚Äù en gesti√≥n financiera?

En finanzas, anal√≠tica no es ‚Äúhacer un modelo‚Äù solamente.  
Es construir un proceso confiable para responder preguntas como:

- ¬øC√≥mo se comporta el rendimiento y el riesgo de un activo / portafolio?
- ¬øC√≥mo evoluciona la liquidez, solvencia o rentabilidad de una empresa?
- ¬øQu√© se√±ales tempranas hay de estr√©s financiero?

----

.center[
.orange[**El insumo real es el dato: limpio, trazable, consistente.**]
]

---

# El flujo anal√≠tico (vista de ingenier√≠a)

**Problema ‚Üí Dato ‚Üí Integraci√≥n ‚Üí Calidad ‚Üí M√©trica/Modelo ‚Üí Decisi√≥n**

.panelset[
.panel[.panel-name[Pregunta gu√≠a]
Si ma√±ana te cambian la base de datos o llega un nuevo periodo,
¬øpuedes reproducir exactamente el dataset final y el resultado?
]
.panel[.panel-name[Objetivo del curso]
Que tu respuesta sea: **s√≠**, porque tienes un pipeline documentado.
]
]

---

# Dos mundos de datos financieros

.pull-left[
## Mercado
Datos que reflejan precios y condiciones de negociaci√≥n.

- Precios (close, open, high, low)
- Vol√∫menes, spreads, liquidez
- Tasas de inter√©s, FX, commodities
- Indicadores: retornos, volatilidad, VaR

**Preguntas t√≠picas:** riesgo, cobertura, asignaci√≥n, timing.
]

.pull-right[
## Corporativo
Datos que describen la salud financiera de empresas.

- Estados financieros (balance, P&G, flujo de caja)
- Razones financieras (ROA, ROE, margen, endeudamiento)
- Cuentas por cobrar/pagar, inventarios, CAPEX

**Preguntas t√≠picas:** desempe√±o, solvencia, planeaci√≥n y control.
]

---

# Clasifica variables

¬øCu√°les son de mercado y cu√°les son corporativas?

- Precio de cierre, volumen, tasa de cambio, beta, EBITDA, deuda total, caja, margen neto

.panelset[
.panel[.panel-name[Respuesta]
**Mercado:** precio de cierre, volumen, tasa de cambio, beta  
**Corporativo:** EBITDA, deuda total, caja, margen neto
]
.panel[.panel-name[Mensaje]
La clasificaci√≥n te dice **c√≥mo** se generan,
**con qu√© frecuencia** llegan,
y **qu√© llaves** necesitas para integrarlas.
]
]

---

# Estructuras de datos: serie de tiempo vs panel

.pull-left[
## Serie de tiempo
Una entidad a trav√©s del tiempo.

- Un activo: `precio_t`
- Una empresa: `EBITDA_t`
- Un pa√≠s: `inflaci√≥n_t`

**Llave t√≠pica:** `fecha`
]

.pull-right[
## Panel
Muchas entidades a trav√©s del tiempo.

- Muchas acciones por d√≠a: `id_activo √ó fecha`
- Muchas empresas por trimestre: `firma √ó periodo`
- Pa√≠ses por mes: `pais √ó fecha`

**Llaves t√≠picas:** `(id, fecha)`
]

---

# Frecuencia importa

Mercado suele ser:
- diaria, intrad√≠a (minutos/segundos)

Corporativo suele ser:
- trimestral, anual (a veces mensual interno)

**Riesgo t√≠pico:** mezclar frecuencias sin control.

> Ejemplo: unir precios diarios con estados trimestrales ‚Äúcomo si fuera lo mismo‚Äù
genera duplicados o valores repetidos artificialmente.

---

# Mini-caso: unir mercado (diario) con corporativo (trimestral)

Si tienes:
- precios diarios de una acci√≥n (365 filas/a√±o)
- estado financiero trimestral (4 filas/a√±o)

Pregunta: ¬øqu√© pasa si haces un join solo por `id`?


--


.panelset[
.panel[.panel-name[Respuesta corta]
Explota la tabla: el dato trimestral se replica en todos los d√≠as
y puedes terminar duplicando o ‚Äúinyectando‚Äù informaci√≥n donde no corresponde.
]
.panel[.panel-name[Regla pr√°ctica]
Antes de unir: define la **frecuencia objetivo** del an√°lisis.
- Si quieres an√°lisis diario: debes decidir c√≥mo ‚Äúllevar‚Äù lo trimestral a diario (y justificarlo).
- Si quieres an√°lisis trimestral: debes agregar/resumir lo diario a trimestre.
]
]

---

class: inverse, center, middle
background-color: #122140

# Importaci√≥n e integraci√≥n (en R)
## Llaves, joins, duplicados, faltantes, unidades/monedas/fechas

---

# Paso 1: Importaci√≥n (import) con control

En el mundo real, el dolor no es `read_csv()`, sino:

- encoding y separadores (coma vs punto y coma)
- nombres raros de columnas
- tipos mal le√≠dos (fechas como texto, n√∫meros como caracteres)
- separadores de miles/decimales

----

.center[
.orange[**Importar es tipificar. Si no tipificas, todo lo dem√°s se contamina.**]
]

---

# ¬øQu√© error ves?

Te llega una columna `price` como texto:

- `"19,000"`  
- `"20.000"`  
- `"$18,500"`  

Pregunta: ¬øes el mismo formato? ¬øes el mismo n√∫mero?

.panelset[
.panel[.panel-name[Claves]
- separador de miles vs decimal  
- s√≠mbolo de moneda  
- consistencia del formato  
Si no limpias esto, tus retornos salen absurdos.
]
]

---

# Paso 2: Llaves (keys): la decisi√≥n m√°s importante

En datos financieros, una llave mal definida te destruye el dataset.

Ejemplos de llaves t√≠picas:
- Mercado: `(ticker, fecha)`
- FX: `(par_moneda, fecha)`
- Corporativo: `(firma, periodo)`
- Transaccional: `(id_cliente, fecha_hora, id_transaccion)`

----

.center[
.blue2[Antes de hacer joins, escribe tu llave en una frase.]
]

---

# Paso 3: Joins (uniones) ‚Äî el lugar donde nacen los duplicados

Tipos de joins (idea):
- `left_join()`: conservo mi tabla base
- `inner_join()`: solo intersecci√≥n
- `full_join()`: todo, con faltantes

Riesgo #1: **many-to-many accidental**
- si ambas tablas tienen repetidos en la llave, el join ‚Äúmultiplica‚Äù filas.

---

# Predice qu√© pasa

Tabla A: precios diarios (ticker, fecha) ‚Äî √∫nica por llave.  
Tabla B: noticias (ticker, fecha) ‚Äî puede tener **varias** noticias por d√≠a.

Si haces `left_join(A, B, by=c("ticker","fecha"))`:

--

.panelset[
.panel[.panel-name[Respuesta]
El precio del d√≠a se va a repetir tantas veces como noticias existan ese d√≠a.
Eso NO es ‚Äúmalo‚Äù si tu unidad de an√°lisis es ‚Äúnoticia‚Äù.
Pero es un desastre si tu unidad de an√°lisis es ‚Äúd√≠a‚Äù.
]
.panel[.panel-name[Regla]
Primero define la **unidad de an√°lisis**:
d√≠a, transacci√≥n, cliente, firma-trimestre‚Ä¶
Luego ajustas la tabla (agregas B o cambias el modelo).
]
]

---

# Paso 4: Duplicados (y c√≥mo se generan)

Duplicados t√≠picos en finanzas:
- mismo registro repetido (carga doble)
- join que explota filas
- fechas duplicadas por zona horaria / mercado

Chequeo mental:
> ‚Äú¬øDeber√≠a existir m√°s de una fila por (ticker, fecha)?‚Äù

Si la respuesta es no ‚Üí entonces tu dataset tiene un problema.

---

# Checklist de duplicados

Si tu unidad es diaria por activo, entonces:

- ¬øexiste m√°s de una fila por `(ticker, fecha)`?
- ¬øcu√°ntas? ¬øen qu√© fechas? ¬øpor qu√©?



.panelset[
.panel[.panel-name[Interpretaci√≥n]
Duplicados ‚â† ‚Äúun error peque√±o‚Äù.  
Duplicados = retornos duplicados, volatilidad falsa,
VaR inflado/deflactado, y decisiones err√≥neas.
]
]

---

# Paso 5: Faltantes (NA) ‚Äî no siempre son ‚Äúmalos‚Äù, pero s√≠ peligrosos

Tipos de faltantes:
- faltante real (no existe dato)
- faltante por falla de captura
- faltante por join mal hecho

En finanzas:
- `NA` en precio rompe retornos
- `NA` en estados financieros rompe ratios
- `NA` en tasas rompe descuento/valuaci√≥n

---

# NA en precios

Si un precio est√° NA en medio de la serie:

- tu retorno de ese d√≠a es NA  
- y el retorno del d√≠a siguiente depende de ese NA  
- puedes ‚Äúperder‚Äù ventanas completas de c√°lculo

**Regla:** antes de modelar, decide:
- eliminar, imputar, interpolar, o marcar y excluir por periodos
‚Ä¶ y documenta la decisi√≥n.

---

# Paso 6: Unidades, moneda y fechas (los tres asesinos silenciosos)

**Unidades:** miles vs millones, % vs proporci√≥n  
**Moneda:** COP vs USD, nominal vs real  
**Fechas:** formato, zona horaria, d√≠as h√°biles vs calendario

----

.center[
.orange[**La mayor√≠a de errores graves en finanzas son ‚Äúformato‚Äù, no matem√°tica.**]
]

---

# Mini-ejercicio (2 min): identifica el bug

Tasa de inter√©s: `5`  
- ¬øEs 5% o es 5 (500%)?

FX: `4000`  
- ¬øCOP/USD o USD/COP?

Fecha: `01/02/2025`  
- ¬ø1 de febrero o 2 de enero?

.panelset[
.panel[.panel-name[Moraleja]
Sin diccionario de variables y reglas de formato,
t√∫ y tu equipo pueden leer lo mismo‚Ä¶ y entender cosas distintas.
]
]

---

class: inverse, center, middle
background-color: #122140

# Validaciones, trazabilidad y diccionario
## Quality gate + pipeline reproducible

---

# Quality gate: validaciones m√≠nimas antes de analizar

Antes de calcular retornos, ratios o riesgo, valida:

- Llaves √∫nicas (unidad de an√°lisis)
- Rangos l√≥gicos (precios > 0, tasas razonables)
- Consistencia de moneda y unidades
- Fechas ordenadas y sin huecos ‚Äúraros‚Äù
- NA bajo control (reglas expl√≠citas)

----

.center[
.blue2[Estas validaciones son parte del pipeline, no una ‚Äúrevisi√≥n manual‚Äù.]
]

---

# Trazabilidad: ¬øde d√≥nde sali√≥ este n√∫mero?

Trazabilidad significa que puedas responder:

- ¬øqu√© fuente lo gener√≥?
- ¬øqu√© transformaciones se aplicaron?
- ¬øqu√© filas se filtraron y por qu√©?
- ¬øqu√© versi√≥n de datos/c√≥digo lo produjo?

En proyectos reales, esto separa:
- an√°lisis ‚Äúbonito‚Äù (no repetible)
- de an√°lisis profesional (auditables).

---

# Diccionario de variables (m√≠nimo viable)

Para cada variable define:

- nombre (en el dataset)
- descripci√≥n en espa√±ol
- unidad (USD, COP, %, ratio)
- frecuencia (diaria, mensual, trimestral)
- fuente (sistema, API, proveedor)
- reglas de validaci√≥n (rangos, NA permitido)
- llave / nivel (ticker-fecha, firma-periodo)

----

.center[
.orange[**Sin diccionario, no hay proyecto: hay solo archivos sueltos.**]
]

---

# Mini-ejercicio (5 min): crea tu mini-diccionario

Toma 5 variables t√≠picas y define:

1) nombre en dataset  
2) descripci√≥n  
3) unidad/moneda  
4) frecuencia  
5) nivel (llave)

Ejemplos:
- `close`, `volume`, `ret`, `fx_usdcop`, `debt_total`

.panelset[
.panel[.panel-name[Entrega]
En grupos: un diccionario de 5 variables en una tabla (puede ser Google Sheets).
]
.panel[.panel-name[Evaluaci√≥n r√°pida]
¬øSe entiende sin que t√∫ lo expliques?
Si la respuesta es no, falta detalle.
]
]

---

# Pipeline reproducible (en una frase)

**Importar ‚Üí limpiar ‚Üí integrar ‚Üí validar ‚Üí documentar ‚Üí analizar**

.panelset[
.panel[.panel-name[Lo que haremos en R]
- `readr`/`readxl` para importar  
- `dplyr` para limpiar e integrar  
- funciones de validaci√≥n (reglas)  
- outputs reproducibles (dataset final + reporte)
]
.panel[.panel-name[Mensaje final]
Cuando lleguemos a modelos (ML), ya tendremos confianza
en que el patr√≥n viene del mundo‚Ä¶ no de errores del dataset.
]
]

---




# Taller 1 (10%) ‚Äî Flujo de datos y calidad

**Objetivo:** entregar un *dataset anal√≠tico* listo para usar en el **Taller 2 (EDA + inferencia + visualizaci√≥n)**. 


Aqu√≠ NO evaluamos ‚Äúmodelos‚Äù: evaluamos **calidad, trazabilidad y reproducibilidad**.

----

## 1) Elige una ruta de datos (una sola)

.pull-left[
### Ruta A ‚Äî Mercado
- 7-10 activos (acciones/ETF/√≠ndice/etc)  
- ventana: 3‚Äì5 a√±os (ideal: diaria)  

**Llave:** `ticker + date`
]

.pull-right[
### Ruta B ‚Äî Corporativo
- Empresas  
- 8‚Äì12 trimestres (o meses, o a√±os)  
- variables de estados financieros/ratios

**Llave:** `empresa + periodo`
]

---



.pull-left[

## 2) Entregables (1 archivo)

1) **Reporte reproducible** 
   - Generado con Rmd/Quarto/Streamlit/etc.
   
2)  El reporte debe de mostar el camino desde el **Dataset inicial** hasta **Dataset final**  
   
3) **Diccionario m√≠nimo**  
   - nombre, descripci√≥n, unidad/moneda, frecuencia, fuente, llave/nivel, etc.



]

.pull-right[


## 3) Checks de calidad (obligatorios)

- **Llave √∫nica:** sin duplicados en la llave  
- **Tipos correctos:** fechas como `Date`, n√∫meros como num√©ricos  
- **Missing controlado:** conteo de NA + decisi√≥n (eliminar/imputar/marcar)  
- **Unidades/moneda consistentes:** una sola convenci√≥n + nota si transformaste  
- **Rangos l√≥gicos:** valores imposibles detectados (precio>0, tasas razonables, etc.)  
- **Bit√°cora:** ‚Äúqu√© cambi√© y por qu√©‚Äù (trazabilidad)

]

---


## IA ?

> ‚ÄúPueden usar IA como asistente de programaci√≥n. En la vida real la usar√°n.
Pero el taller eval√∫a criterio de datos: llaves, calidad, trazabilidad y reproducibilidad.
Si la IA les da c√≥digo, ustedes siguen siendo responsables de entenderlo y documentarlo.‚Äù


Plataformas recomendadas:

- Quarto: https://quarto.org/
- Rmarkdown: https://rmarkdown.rstudio.com/
- Streamlit: https://streamlit.io/



----

.center[**.orange[.font130[Importante: Pensar en la reproducibilidad, Si cambio la Base de Datos, ¬øpuedo replicar el c√≥digo que gener√©?]]**]



---







class: inverse, center, middle
background-color: #122140




.pull-left[

.center[
<br><br>

# Gracias!!!

<br><br><br><br><br>



### Preguntas?
]


]


.pull-right[


.center[

<br><br><br>


.center[
<img style="border-radius: 50%;" src="img/avatar.png"
width="100px" href="https://www.joaquibarandica.com"
/>

`r anicon::faa("envelope", animate = "passing")` orlando.joaqui@correounivalle.edu.co 
]


```{r qr, echo=FALSE, fig.align="center", out.width="50%"}
knitr::include_graphics("img/qr-code.png")
```


.center[
www.joaquibarandica.com
]



]


]


<br><br><br>

----

*The images used to set the presentation are from [pixabay](https://pixabay.com/).*



